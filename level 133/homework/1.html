<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
       // #1. Resolve with a Custom Object
const p1 = new Promise((resolve) => {
  resolve({ status: "ok", code: 200 });
});
p1.then(console.log);

// #2. Reject with a Custom Error
const p2 = new Promise((_, reject) => {
  reject(new Error("Custom failure!"));
});
p2.catch(console.error);

// #3. Delay with Dynamic Time
function delay(ms) {
  return new Promise((resolve) => {
    setTimeout(() => resolve(`Waited ${ms} ms`), ms);
  });
}
delay(1000).then(console.log);

// #4. Random Success or Failure
const p4 = new Promise((resolve, reject) => {
  Math.random() > 0.5 ? resolve("✅ Success") : reject("❌ Failure");
});
p4.then(console.log).catch(console.error);

// #5. Chain Math Operations
const p5 = Promise.resolve(3);
p5.then(n => n + 2)
  .then(n => n * 4)
  .then(n => n - 5)
  .then(console.log); // საბოლოო შედეგი

// #6. Simulate API with Parameters
function fetchUser(id) {
  return new Promise((resolve) => {
    setTimeout(() => resolve(`User ${id} data`), 1500);
  });
}
fetchUser(42).then(console.log);

// #7. Use .finally() for Cleanup
const p7 = new Promise((resolve, reject) => {
  Math.random() > 0.5 ? resolve("Resolved!") : reject("Rejected!");
});
p7.then(console.log).catch(console.error).finally(() => {
  console.log("Cleanup complete");
});

// #8. Nest Promises
const p8 = new Promise((resolve) => {
  resolve(new Promise((res) => res("Nested resolved!")));
});
p8.then(console.log);

// #9. Convert Callback to Promise
function wait(ms) {
  return new Promise((resolve) => {
    setTimeout(resolve, ms);
  });
}
wait(500).then(() => console.log("Waited 500ms with wait()"));

// #10. Promise.all with Multiple Tasks
const p10a = new Promise(res => setTimeout(() => res("One"), 1000));
const p10b = new Promise(res => setTimeout(() => res("Two"), 2000));
const p10c = new Promise(res => setTimeout(() => res("Three"), 3000));

Promise.all([p10a, p10b, p10c]).then(console.log);
    </script>
</body>
</html>
